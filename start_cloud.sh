
#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –¥–ª—è –æ–±–ª–∞—á–Ω–æ–π —Å—Ä–µ–¥—ã Railway

echo "üöÄ –ó–∞–ø—É—Å–∫ –æ–±–ª–∞—á–Ω–æ–≥–æ RPA-–±–æ—Ç–∞ –Ω–∞ Railway..."

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
if [ -z "$SUPABASE_URL" ]; then
    echo "‚ùå –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è SUPABASE_URL"
    exit 1
fi

if [ -z "$SUPABASE_SERVICE_KEY" ]; then
    echo "‚ö†Ô∏è  –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è SUPABASE_SERVICE_KEY"
    echo "–ë–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Supabase"
fi

# –ó–∞–ø—É—Å–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –¥–∏—Å–ø–ª–µ—è –¥–ª—è GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
echo "üñ•Ô∏è  –ó–∞–ø—É—Å–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –¥–∏—Å–ø–ª–µ—è..."
Xvfb :99 -screen 0 1920x1080x24 &
export DISPLAY=:99

# –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –¥–∏—Å–ø–ª–µ—è
sleep 3

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Chrome
echo "üåê –ü—Ä–æ–≤–µ—Ä–∫–∞ Google Chrome..."
google-chrome --version || {
    echo "‚ùå Google Chrome –Ω–µ –Ω–∞–π–¥–µ–Ω"
    exit 1
}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ ChromeDriver
echo "üöó –ü—Ä–æ–≤–µ—Ä–∫–∞ ChromeDriver..."
chromedriver --version || {
    echo "‚ùå ChromeDriver –Ω–µ –Ω–∞–π–¥–µ–Ω"
    exit 1
}

echo "‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã –¥–ª—è Railway"
echo "ü§ñ –ó–∞–ø—É—Å–∫ –æ–±–ª–∞—á–Ω–æ–≥–æ RPA-–±–æ—Ç–∞..."

# –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
python rpa_bot_cloud.py
